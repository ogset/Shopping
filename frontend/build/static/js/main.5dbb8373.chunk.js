(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,r){},109:function(e,t,r){},118:function(e,t,r){"use strict";r.r(t);var a,c,n,s,i=r(1),l=r(26),j=r.n(l),d=r(6),o=r(30),u=r(14),b=r(71),O=r.n(b),h=r(53),x=r(8),p=r(11),m=r.n(p),f=r(21),g=r(40),v=r.n(g),y=Object(u.b)("productList/getAllProducts",Object(f.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/products");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))),N=Object(u.b)("productList/getProduct",function(){var e=Object(f.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/products/".concat(t));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=Object(u.c)({name:"productList",initialState:{products:{loading:!1,productsData:[],status:null,error:null},product:{loading:!1,productData:{},status:null,error:null}},reducers:{},extraReducers:(a={},Object(x.a)(a,y.pending,(function(e){e.products.loading=!0,e.products.status="loading"})),Object(x.a)(a,y.fulfilled,(function(e,t){e.products.loading=!1,e.products.productsData=t.payload,e.products.status="success",e.product.productData={}})),Object(x.a)(a,y.rejected,(function(e,t){e.products.loading=!1,e.products.status="failed"})),Object(x.a)(a,N.pending,(function(e){e.product.loading=!0,e.product.status="loading"})),Object(x.a)(a,N.fulfilled,(function(e,t){e.product.loading=!1,e.product.productData=t.payload,e.product.status="success"})),Object(x.a)(a,N.rejected,(function(e,t){e.product.loading=!1,e.product.status="failed"})),a)}).reducer,L=v.a.create({baseURL:"/api/",headers:{"Content-Type":"application/json"}}),k={cart:[],loading:!1,error:null,totalPrice:0},w=Object(u.b)("cart/getProducts",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c=r.getState,n=c().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.post("/cart",{userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",a(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),S=Object(u.b)("cart/adjustProduct",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c=r.getState,n=c().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.put("/cart",{adjustData:t,userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",a(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),D=Object(u.b)("cartSlice/mergeCartToUserCart",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c=r.getState,n=c().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.patch("/cart",{userId:s,cart:t});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",a(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),A=Object(u.c)({name:"cartList",initialState:k,reducers:{adjustCart:function(e,t){var r=t.payload,a=r._id,c=r.name,n=r.price,s=r.image,i=r.opr,l=e.cart.findIndex((function(e){return e._id.toString()===a}));-1===l&&"ADD"===i&&(e.cart.unshift({name:c,image:s,price:n,_id:a,quantity:1}),e.totalPrice+=n),"INC"===i||"ADD"===i&&-1!==l?(e.cart[l].quantity+=1,e.totalPrice+=e.cart[l].price):"DEC"===i?e.cart[l].quantity>1?(e.cart[l].quantity-=1,e.totalPrice-=e.cart[l].price):e.cart[l].quantity=1:"DEL"===i&&(e.totalPrice-=e.cart[l].price*e.cart[l].quantity,e.cart.splice(l,1)),e.totalPrice=parseFloat(e.totalPrice.toFixed(2))},clearCart:function(e){return k}},extraReducers:(c={},Object(x.a)(c,D.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(c,D.fulfilled,(function(e,t){var r=t.payload;e.loading=!1,e.cart=r.cart,e.totalPrice=parseFloat(r.totalPrice)})),Object(x.a)(c,D.rejected,(function(e,t){var r=t.payload;e.loading=!1,e.error=r})),Object(x.a)(c,w.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(c,w.fulfilled,(function(e,t){var r=t.payload;e.loading=!1,e.cart=r})),Object(x.a)(c,w.rejected,(function(e,t){var r=t.payload;e.loading=!1,e.error=r})),Object(x.a)(c,S.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(c,S.fulfilled,(function(e,t){var r=t.payload;e.loading=!1,e.cart=r.cart,e.totalPrice=parseFloat(r.totalPrice)})),Object(x.a)(c,S.rejected,(function(e,t){var r=t.payload;e.loading=!1,e.error=r})),c)}),I=function(e,t,r,a,c){return function(n,s){s().userList.userData.token?n(S({_id:e,opr:c})):n(E({_id:e,image:t,price:r,name:a,opr:c}))}},P=A.actions,E=P.adjustCart,F=P.clearCart,B=A.reducer,T={loading:!1,userData:{},userProfile:{},userAddresses:[],error:null,status:"idle"},q=Object(u.b)("user/login",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c="",t.name||(c="login"),e.prev=3,e.next=6,L.post("users/".concat(c),t);case 6:return n=e.sent,s=n.data,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",a(e.t0.response.data.message));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,r){return e.apply(this,arguments)}}()),G=Object(u.b)("user/profile",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,c=r.rejectWithValue,n=a().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.post("/users/profile",{userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",c(e.t0.response.message));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),R=Object(u.b)("user/updateProfile",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,c=r.rejectWithValue,n=a().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.put("/users/profile",{updateData:t,userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",c(e.t0.response.data.message));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),_=Object(u.b)("user/getAddresses",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,c=r.rejectWithValue,n=a().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.post("/users/profile/addresses",{userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",c(e.t0.response.message));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),z=Object(u.b)("user/updateAddresses",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getState,c=r.rejectWithValue,n=a().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.put("/users/profile/addresses",{userId:s,addressData:t});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",c(e.t0.response.data.message));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),K=Object(u.c)({name:"productList",initialState:T,reducers:{reset:function(e){return T},clearError:function(e){e.error=null},resetStatus:function(e){e.status="idle"}},extraReducers:(n={},Object(x.a)(n,q.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(n,q.fulfilled,(function(e,t){e.loading=!1,e.userData=t.payload,e.error=null})),Object(x.a)(n,q.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(x.a)(n,G.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(n,G.fulfilled,(function(e,t){e.loading=!1,e.userProfile=t.payload,e.error=null})),Object(x.a)(n,G.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(x.a)(n,R.pending,(function(e){e.loading=!0,e.error=null,e.status="idle"})),Object(x.a)(n,R.fulfilled,(function(e,t){e.loading=!1,e.userProfile=t.payload,e.status="success",e.error=null})),Object(x.a)(n,R.rejected,(function(e,t){e.loading=!1,e.status="failed",e.error=t.payload})),Object(x.a)(n,_.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(n,_.fulfilled,(function(e,t){e.loading=!1,e.userAddresses=t.payload,e.error=null})),Object(x.a)(n,_.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(x.a)(n,z.pending,(function(e){e.loading=!0,e.error=null,e.status="idle"})),Object(x.a)(n,z.fulfilled,(function(e,t){e.loading=!1,e.userAddresses=t.payload,e.status="success",e.error=null})),Object(x.a)(n,z.rejected,(function(e,t){e.loading=!1,e.status="failed",e.error=t.payload})),n)}),V=K.actions,W=V.reset,U=V.clearError,Y=V.resetStatus,H=K.reducer,$={orders:[],loading:!1,error:null,status:"idle"},M=Object(u.b)("orderSlice/placeOrder",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c=r.getState,n=c().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.put("/orders",{userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",a(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),J=Object(u.b)("orderSlice/getUserOrders",function(){var e=Object(f.a)(m.a.mark((function e(t,r){var a,c,n,s,i,l,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,c=r.getState,n=c().userList.userData,s=n.userId,i=n.token,e.prev=2,L.defaults.headers.common.Authorization="Bearer ".concat(i),e.next=6,L.post("/orders",{userId:s});case 6:return l=e.sent,j=l.data,e.abrupt("return",j);case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",a(e.t0.response.status));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,r){return e.apply(this,arguments)}}()),Z=Object(u.c)({name:"orderList",initialState:$,reducers:{reset:function(e){return $}},extraReducers:(s={},Object(x.a)(s,M.pending,(function(e){e.loading=!0,e.error=null,e.status="idle"})),Object(x.a)(s,M.fulfilled,(function(e){e.loading=!1,e.status="success"})),Object(x.a)(s,M.rejected,(function(e,t){var r=t.payload;e.loading=!1,e.status="failed",e.error=r})),Object(x.a)(s,J.pending,(function(e){e.loading=!0,e.error=null})),Object(x.a)(s,J.fulfilled,(function(e,t){var r=t.payload;e.loading=!1,e.orders=r})),Object(x.a)(s,J.rejected,(function(e,t){var r=t.payload;e.loading=!1,e.error=r})),s)}),Q=Z.actions.reset,X=Z.reducer,ee=r(41),te=Object(o.b)({productsList:C,cartList:B,userList:H,orderList:X}),re={key:"root",storage:O.a},ae=Object(h.a)(re,te),ce=Object(u.a)({reducer:ae,devTools:!1,middleware:[ee.a]}),ne=r(72),se=(r(108),r(109),r(130)),ie=r(123),le=r(133),je=r(128),de=r(36),oe=r(16),ue=r(0),be=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.cartList.cart})),r=Object(d.c)((function(e){return e.userList.userData})).name,a=Object(oe.k)();return Object(ue.jsx)("header",{children:Object(ue.jsx)(se.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",children:Object(ue.jsxs)(ie.a,{children:[Object(ue.jsx)(de.LinkContainer,{to:"/",children:Object(ue.jsx)(se.a.Brand,{children:"OgShop"})}),Object(ue.jsx)(se.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(ue.jsx)(se.a.Collapse,{id:"responsive-navbar-nav",children:Object(ue.jsxs)(le.a,{className:"ml-auto",children:[Object(ue.jsx)(de.LinkContainer,{to:"/cart",children:Object(ue.jsxs)(le.a.Link,{children:[t.length>0&&Object(ue.jsx)("span",{className:"badge badge-pill badge-warning",children:t.reduce((function(e,t){return e+t.quantity}),0)})," ",Object(ue.jsx)("i",{className:"fas fa-shopping-cart mr-2"}),"Cart"]})}),r?Object(ue.jsxs)(je.a,{title:r,id:"username",children:[Object(ue.jsx)(de.LinkContainer,{to:"/profile/info",children:Object(ue.jsxs)(je.a.Item,{children:[Object(ue.jsx)("i",{className:"fas fa-user mr-2"})," Profile"]})}),Object(ue.jsx)(de.LinkContainer,{to:"/profile/addresses",children:Object(ue.jsxs)(je.a.Item,{children:[Object(ue.jsx)("i",{className:"fas fa-map-marker mr-2"})," Addresses"]})}),Object(ue.jsx)(de.LinkContainer,{to:"/profile/orders",children:Object(ue.jsxs)(je.a.Item,{children:[Object(ue.jsx)("i",{className:"fas fa-box mr-2"})," Orders"]})}),Object(ue.jsxs)(je.a.Item,{onClick:function(){e((function(e){e(W()),e(F())})),a.push("/")},children:[Object(ue.jsx)("i",{className:"fas fa-sign-out-alt mr-2"}),"Logout"]})]}):Object(ue.jsx)(de.LinkContainer,{to:"/login",children:Object(ue.jsxs)(le.a.Link,{children:[Object(ue.jsx)("i",{className:"fas fa-user mx-2"})," Login"]})})]})})]})})})},Oe=r(13),he=r(124),xe=r(76),pe=function(){return Object(ue.jsx)("footer",{children:Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(he.a,{children:Object(ue.jsx)(xe.a,{className:"text-center py-3",children:"Copyright \xa9 OgShop"})})})})},me=r(132),fe=r(134),ge=function(e){var t=e.color,r=e.rating,a=e.review;return Object(ue.jsxs)("div",{className:"rating",children:[Object(ue.jsx)("span",{children:[1,2,3,4,5].map((function(e){return Object(ue.jsx)("i",{style:{color:t},className:r>=e?"fas fa-star":r>=e-.5?"fas fa-star-half-alt":"far fa-star"},e)}))})," ",Object(ue.jsx)("span",{children:a&&a+" Reviews"})]})};ge.defaultProps={color:"#ffdf00 ",rating:0};var ve=ge,ye=function(e){var t=e.product,r=t._id,a=t.name,c=t.rating,n=t.numReviews,s=t.price,i=t.image;return Object(ue.jsxs)(fe.a,{className:"my-3 p-3 rounded",children:[Object(ue.jsx)(Oe.Link,{to:"/product/".concat(r),children:Object(ue.jsx)(fe.a.Img,{src:i})}),Object(ue.jsxs)(fe.a.Body,{children:[Object(ue.jsx)(Oe.Link,{to:"/product/".concat(r),children:Object(ue.jsx)(fe.a.Title,{as:"div",children:Object(ue.jsx)("strong",{children:a})})}),Object(ue.jsx)(fe.a.Text,{as:"div",children:Object(ue.jsx)(ve,{rating:c,review:n})}),Object(ue.jsxs)(fe.a.Text,{as:"h3",children:["$",s]})]})]})},Ne=r(125),Ce=function(){return Object(ue.jsxs)(Ne.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:[" ",Object(ue.jsx)("span",{className:"sr-only",children:" Loading..."})]})},Le=function(){var e=Object(d.c)((function(e){return e.productsList.products})),t=e.productsData,r=e.error,a=e.loading,c=Object(d.b)();return Object(i.useEffect)((function(){c(y()),c(Q())}),[c]),Object(ue.jsx)(ue.Fragment,{children:a?Object(ue.jsx)(Ce,{}):r?Object(ue.jsx)(me.a,{variant:"danger",children:r.message}):Object(ue.jsx)(he.a,{children:t.map((function(e){return Object(ue.jsx)(xe.a,{sm:12,md:6,lg:4,xl:3,children:Object(ue.jsx)(ye,{product:e})},e._id)}))})})},ke=r(126),we=r(127),Se=r(75),De=function(e){var t=e.match.params.id,r=Object(d.b)(),a=Object(d.c)((function(e){return e.productsList.product})),c=a.productData,n=a.loading,s=a.error,l=Object(d.c)((function(e){return e.cartList.loading})),j=c.image,o=c.name,u=c.numReviews,b=c.rating,O=c.price,h=c.description,x=c.countInStock;return Object(i.useEffect)((function(){r(N(t))}),[r,t]),Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Oe.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),n?Object(ue.jsx)(Ce,{}):s?Object(ue.jsx)(me.a,{variant:"danger",children:s.message}):Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{md:6,children:Object(ue.jsx)(ke.a,{src:j,alt:o,fluid:!0})}),Object(ue.jsx)(xe.a,{md:3,children:Object(ue.jsxs)(we.a,{variant:"flush",children:[Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)("h3",{children:o})}),Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)(ve,{rating:b,review:u})}),Object(ue.jsx)(we.a.Item,{children:h})]})}),Object(ue.jsx)(xe.a,{md:3,children:Object(ue.jsxs)(we.a,{className:"text-center",children:[Object(ue.jsxs)(we.a.Item,{children:["Price : ",Object(ue.jsxs)("strong",{children:[" $",O]})]}),Object(ue.jsx)(we.a.Item,{children:x>0?"In Stock":"Out Of Stock"}),Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)(Se.a,{variant:0===x?"danger":"outline-success",type:"button",disabled:0===x,block:!0,onClick:function(){r(I(t,j,O,o,"ADD"))},children:l?Object(ue.jsx)(Ne.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"ADD TO CART"})})]})})]})]})},Ae=function(e){var t=e.cart,r=Object(d.b)();return Object(ue.jsx)(we.a,{children:t.map((function(e){return Object(ue.jsx)(we.a.Item,{children:Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{md:3,children:Object(ue.jsx)(ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(ue.jsx)(xe.a,{md:3,className:"my-auto",children:Object(ue.jsx)(Oe.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(ue.jsxs)(xe.a,{md:2,className:"my-auto",children:[e.price," $"]}),Object(ue.jsxs)(xe.a,{md:3,className:"my-auto",children:[Object(ue.jsx)(Se.a,{type:"button",variant:"light",className:"mr-3",value:"DEC",onClick:function(){return r(I(e._id,e.image,e.price,e.name,"DEC"))},children:Object(ue.jsx)("i",{className:"fas fa-minus"})}),Object(ue.jsx)("span",{className:"font-weight-bold",children:e.quantity}),Object(ue.jsx)(Se.a,{type:"button",variant:"light",className:"ml-3",onClick:function(){return r(I(e._id,e.image,e.price,e.name,"INC"))},children:Object(ue.jsx)("i",{className:"fas fa-plus"})})]}),Object(ue.jsx)(xe.a,{md:1,className:"my-auto",children:Object(ue.jsx)(Se.a,{type:"button",variant:"light",onClick:function(){return r(I(e._id,e.image,e.name,e.price,"DEL"))},children:Object(ue.jsx)("i",{className:"fas fa-trash "})})})]})},e._id)}))})},Ie=function(e){var t=e.cart,r=e.totalPrice,a=e.shipping,c=Object(d.c)((function(e){return e.cartList})).loading;return Object(ue.jsxs)(we.a,{children:[Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)(Se.a,{href:a?0===t.length?"/":"/cart":"/",type:"button",className:"btn-block",variant:0===t.length?"success":"outline-success",children:"BACK TO ".concat(a?0===t.length?"SHOPPING":"CART":"SHOPPING")})}),c?Object(ue.jsx)(Ce,{}):Object(ue.jsxs)(ue.Fragment,{children:[t.map((function(e){return Object(ue.jsx)(we.a.Item,{children:Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{md:6,className:"text-center my-auto",children:e.name}),Object(ue.jsxs)(xe.a,{md:2,className:"text-center my-auto",children:["x ",e.quantity]}),Object(ue.jsxs)(xe.a,{md:4,className:"text-center bg-light border rounded text-center my-auto",children:[(e.price*e.quantity).toFixed(2),"$"]})]})},e._id)})),Object(ue.jsx)(we.a.Item,{className:"text-center",children:0===r?Object(ue.jsx)("i",{className:"fas fa-shopping-bag fa-9x"}):Object(ue.jsxs)("h2",{children:["Total : ",r,"$ "]})})]}),t.length>0&&!a?Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)(Se.a,{href:"/placeorder",type:"button",className:"btn-block",variant:0===t.length?"warning":"outline-info",children:"".concat(a?"ORDER SUMMARY":"CHECKOUT")})}):""]})},Pe=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.cartList})),r=t.cart,a=t.totalPrice,c=Object(d.c)((function(e){return e.userList})).userData;return Object(i.useEffect)((function(){c.token&&e(w())}),[e,c]),Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(he.a,{children:Object(ue.jsxs)(xe.a,{md:12,children:[Object(ue.jsx)("h2",{children:"Your Cart"}),Object(ue.jsx)("br",{})]})}),Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{md:8,children:0===r.length?Object(ue.jsx)(me.a,{variant:"info",children:"Your cart is empty."}):Object(ue.jsx)(Ae,{cart:r})}),Object(ue.jsx)(xe.a,{md:4,className:"my-auto",children:Object(ue.jsx)(Ie,{cart:r,totalPrice:a})})]})]})},Ee=r(10),Fe=r(129),Be=function(e){var t=e.history,r=Object(i.useState)(""),a=Object(Ee.a)(r,2),c=a[0],n=a[1],s=Object(i.useState)(""),l=Object(Ee.a)(s,2),j=l[0],o=l[1],u=Object(d.b)(),b=Object(d.c)((function(e){return e.userList})),O=b.error,h=b.loading,x=b.userData,p=Object(d.c)((function(e){return e.cartList})).cart;Object(i.useEffect)((function(){x.token&&(u(D(p)),t.push("/")),u(U())}),[t,x,u,p]);return Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(he.a,{className:"justify-content-md-center",children:Object(ue.jsxs)(xe.a,{xs:12,md:6,children:[Object(ue.jsx)("h2",{children:"Log In"}),O&&Object(ue.jsx)(me.a,{variant:"danger",children:O}),h?Object(ue.jsx)(Ce,{}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("p",{children:Object(ue.jsx)("i",{children:"Please enter your account details to log in to your user account."})}),Object(ue.jsxs)(Fe.a,{onSubmit:function(e){e.preventDefault(),u(q({email:c,password:j}))},children:[Object(ue.jsxs)(Fe.a.Group,{controlId:"email",children:[Object(ue.jsx)(Fe.a.Label,{children:"Email address"}),Object(ue.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter email",value:c,onChange:function(e){return n(e.target.value)}}),Object(ue.jsx)(Fe.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(ue.jsxs)(Fe.a.Group,{controlId:"password",children:[Object(ue.jsx)(Fe.a.Label,{children:"Password"}),Object(ue.jsx)(Fe.a.Control,{type:"password",placeholder:"Password",value:j,minLength:"6",onChange:function(e){return o(e.target.value)}})]}),Object(ue.jsx)(Se.a,{variant:"primary",type:"submit",children:"Login"})]}),Object(ue.jsx)("br",{}),Object(ue.jsxs)("i",{children:["New Customer ? ",Object(ue.jsx)(Oe.Link,{to:"/register",children:"Register"})]})]})]})})})},Te=function(e){var t=e.history,r=Object(i.useState)(""),a=Object(Ee.a)(r,2),c=a[0],n=a[1],s=Object(i.useState)(""),l=Object(Ee.a)(s,2),j=l[0],o=l[1],u=Object(i.useState)(""),b=Object(Ee.a)(u,2),O=b[0],h=b[1],x=Object(i.useState)(""),p=Object(Ee.a)(x,2),m=p[0],f=p[1],g=Object(i.useState)(!0),v=Object(Ee.a)(g,2),y=v[0],N=v[1],C=Object(i.useState)(null),L=Object(Ee.a)(C,2),k=L[0],w=L[1],S=Object(d.b)(),D=Object(d.c)((function(e){return e.userList})),A=D.error,I=D.loading,P=D.userData;Object(i.useEffect)((function(){P.token?t.push("/"):S(U())}),[S,t,P.token]);return Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(he.a,{className:"justify-content-md-center",children:Object(ue.jsxs)(xe.a,{xs:12,md:6,children:[Object(ue.jsx)("h1",{children:"Sign Up"}),k&&Object(ue.jsx)(me.a,{variant:"danger",children:k}),A&&Object(ue.jsx)(me.a,{variant:"danger",children:A}),I?Object(ue.jsx)(Ce,{}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(Fe.a,{onSubmit:function(e){e.prevent.default(),S(q({name:c,email:j,password:O}))},children:[Object(ue.jsxs)(Fe.a.Group,{controlId:"name",children:[Object(ue.jsx)(Fe.a.Label,{children:"Name"}),Object(ue.jsx)(Fe.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:c,onChange:function(e){return n(e.target.value)}})]}),Object(ue.jsxs)(Fe.a.Group,{controlId:"email",children:[Object(ue.jsx)(Fe.a.Label,{children:"Email Address"}),Object(ue.jsx)(Fe.a.Control,{required:!0,type:"email",placeholder:"Enter email",value:j,onChange:function(e){return o(e.target.value)}})]}),Object(ue.jsxs)(Fe.a.Group,{controlId:"password",children:[Object(ue.jsx)(Fe.a.Label,{children:"Password"}),Object(ue.jsx)(Fe.a.Control,{required:!0,type:"password",placeholder:"Enter password",value:O,minLength:"6",onChange:function(e){return h(e.target.value)}})]}),Object(ue.jsxs)(Fe.a.Group,{controlId:"confirmPassword",children:[Object(ue.jsx)(Fe.a.Label,{children:"Confirm Password"}),Object(ue.jsx)(Fe.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:m,minLength:"6",onChange:function(e){return t=e.target.value,f(t),void(t.length===O.length?t!==O?(w("Passwords do not match."),N(!0)):(w(null),N(!1)):N(!0));var t}})]}),Object(ue.jsx)(Se.a,{type:"submit",variant:y?"danger":"success",disabled:y,children:"Register"})]}),Object(ue.jsx)(he.a,{className:"py-3",children:Object(ue.jsxs)(xe.a,{children:["Have an Account ? ",Object(ue.jsx)(Oe.Link,{to:"/login",children:"Login"})]})})]})]})})})},qe=r(131),Ge=r(77),Re=function(e){var t=e.profile,r=Object(i.useState)(""),a=Object(Ee.a)(r,2),c=a[0],n=a[1],s=Object(i.useState)(""),l=Object(Ee.a)(s,2),j=l[0],o=l[1],u=Object(i.useState)(""),b=Object(Ee.a)(u,2),O=b[0],h=b[1],x=Object(i.useState)(""),p=Object(Ee.a)(x,2),m=p[0],f=p[1],g=Object(i.useState)(""),v=Object(Ee.a)(g,2),y=v[0],N=v[1],C=Object(i.useState)(!0),L=Object(Ee.a)(C,2),k=L[0],w=L[1],S=Object(i.useState)(null),D=Object(Ee.a)(S,2),A=D[0],I=D[1],P=Object(i.useState)(!1),E=Object(Ee.a)(P,2),F=E[0],B=E[1],T=Object(i.useState)(!1),q=Object(Ee.a)(T,2),G=q[0],_=q[1],z=Object(d.b)(),K=Object(d.c)((function(e){return e.userList})),V=K.loading,W=K.status,H=K.error;Object(i.useEffect)((function(){$()}));var $=function(){"success"===W?(z(Y()),B(!0),I("Successfully Updated!"),setTimeout((function(){B(!1),I(null)}),2e3)):H&&(z(U()),_(!0),I(H),setTimeout((function(){_(!1),I(null)}),2e3))};return Object(ue.jsxs)(Fe.a,{onSubmit:function(e){e.preventDefault(),z(R({name:c,email:j,currentPassword:O,password:m,opr:t?"INF":"PSW"}))},children:[t?Object(ue.jsxs)(Ge.a,{children:[Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"name",children:[Object(ue.jsx)(Fe.a.Label,{children:"Name"}),Object(ue.jsx)(Fe.a.Control,{type:"name",placeholder:"Enter name",value:c,onChange:function(e){return n(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"email",children:[Object(ue.jsx)(Fe.a.Label,{children:"Email Address"}),Object(ue.jsx)(Fe.a.Control,{type:"email",placeholder:"Enter email",value:j,onChange:function(e){return o(e.target.value)}})]})})]}),Object(ue.jsx)(xe.a,{className:"text-right",children:Object(ue.jsx)(Se.a,{type:"submit",variant:0===c.length||0===j.length?"danger":"outline-success",disabled:0===c.length||0===j.length,children:V?Object(ue.jsx)(Ne.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update"})})]}):Object(ue.jsxs)(Ge.a,{children:[Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"currentPassword",children:[Object(ue.jsx)(Fe.a.Label,{children:"Password"}),Object(ue.jsx)(Fe.a.Control,{type:"password",placeholder:"Password",value:O,required:!0,onChange:function(e){return h(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"password",children:[Object(ue.jsx)(Fe.a.Label,{children:"New Password"}),Object(ue.jsx)(Fe.a.Control,{type:"password",placeholder:"Enter password",value:m,minLength:"6",onChange:function(e){return f(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"confirmPassword",children:[Object(ue.jsx)(Fe.a.Label,{children:"Confirm New Password"}),Object(ue.jsx)(Fe.a.Control,{type:"password",placeholder:"Confirm password",minLength:"6",value:y,onChange:function(e){return t=e.target.value,N(t),void(t.length===m.length?t!==m?(I("Passwords do not match."),w(!0)):(I(null),w(!1)):w(!0));var t}})]})})]}),Object(ue.jsx)(xe.a,{className:"text-right",children:Object(ue.jsx)(Se.a,{type:"submit",variant:k?"danger":"outline-success",disabled:k,children:V?Object(ue.jsx)(Ne.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Update"})})]}),(F||G)&&Object(ue.jsx)(me.a,{variant:G?"danger":"success",transition:!0,children:A})]})},_e=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.userList})),r=t.userProfile,a=t.loading,c=r.name,n=r.email;return Object(i.useEffect)((function(){e(G())}),[e]),Object(ue.jsx)(ue.Fragment,{children:a?Object(ue.jsx)(Ce,{}):Object(ue.jsx)(we.a.Item,{children:Object(ue.jsxs)(he.a,{className:"d-flex justify-content-between",children:[Object(ue.jsx)(xe.a,{className:"text-center",children:Object(ue.jsx)("i",{className:"far fa-id-card fa-9x"})}),Object(ue.jsxs)(xe.a,{className:"my-auto",children:[Object(ue.jsx)(he.a,{className:"pl-3",children:Object(ue.jsx)("b",{children:"Name"})}),Object(ue.jsx)(he.a,{className:"mt-3 pl-3",children:Object(ue.jsx)("i",{children:c})})]}),Object(ue.jsxs)(xe.a,{className:"my-auto",children:[Object(ue.jsx)(he.a,{className:"pl-3",children:Object(ue.jsx)("b",{children:"Email"})}),Object(ue.jsx)(he.a,{className:"mt-3 pl-3",children:Object(ue.jsx)("i",{children:n})})]}),Object(ue.jsxs)(xe.a,{className:"my-auto text-right",children:[Object(ue.jsxs)(qe.a.Toggle,{as:Se.a,variant:"light",eventKey:"0",children:[Object(ue.jsx)("i",{className:"fas fa-pen mr-2"}),"Update Details"," "]}),Object(ue.jsxs)(qe.a.Toggle,{as:Se.a,variant:"light",eventKey:"1",className:"mt-3",children:[Object(ue.jsx)("i",{className:"fas fa-key mr-2"}),"Change Password"]})]})]})})})},ze=function(){return Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(he.a,{children:Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("h2",{children:"Your Details"}),Object(ue.jsx)("p",{children:Object(ue.jsx)("i",{children:"View and update your details right here. Manage your login options and passwords here."})}),Object(ue.jsxs)(qe.a,{children:[Object(ue.jsx)(_e,{}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"0",className:"mb-3",children:Object(ue.jsx)(Re,{profile:!0})}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"1",className:"mb-3",children:Object(ue.jsx)(Re,{})})]})]})})})},Ke=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.orderList})),r=t.orders,a=t.loading,c=t.error;return Object(i.useEffect)((function(){e(Q()),e(J())}),[e]),Object(ue.jsxs)(he.a,{children:[Object(ue.jsxs)(xe.a,{md:12,children:[Object(ue.jsx)("h2",{children:"Your Orders"}),Object(ue.jsx)("br",{})]}),a?Object(ue.jsx)(Ce,{}):c?Object(ue.jsx)(me.a,{variant:"danger",children:c}):Object(ue.jsx)(xe.a,{md:12,children:0===r.length?Object(ue.jsxs)(me.a,{variant:"info",children:["You don't have any orders yet."," ",Object(ue.jsx)(Oe.Link,{to:"/",children:"Start Shopping"})," "]}):r.map((function(e){return Object(ue.jsxs)(fe.a,{className:"mb-3",children:[Object(ue.jsxs)(fe.a.Header,{className:"d-flex justify-content-center text-center",children:[Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("b",{children:"Time"}),Object(ue.jsx)("br",{}),new Date(e.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("b",{children:"Order Summary"}),Object(ue.jsx)("br",{}),e.orderItems.length," Product"]}),Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("b",{children:"Person"}),Object(ue.jsx)("br",{}),e.deliveryAddress.firstName," ",e.deliveryAddress.lastName]}),Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("b",{children:"Total Price"}),Object(ue.jsx)("br",{}),e.totalPrice," $"]})]}),Object(ue.jsx)(fe.a.Body,{children:e.orderItems.map((function(e){return Object(ue.jsx)(we.a.Item,{children:Object(ue.jsxs)(he.a,{className:"d-flex justify-content-center text-center",children:[Object(ue.jsx)(xe.a,{className:"my-auto",children:Object(ue.jsx)(ke.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0,style:{maxHeight:"50px"}})}),Object(ue.jsx)(xe.a,{className:"my-auto",children:Object(ue.jsx)(Oe.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(ue.jsxs)(xe.a,{className:"my-auto",children:[e.price,"$ x ",e.quantity]}),Object(ue.jsxs)(xe.a,{className:"my-auto",children:[e.price*e.quantity,"$"]})]})},e._id)}))}),Object(ue.jsx)(fe.a.Footer,{className:"d-flex justify-content-around text-center",children:e.billingAddress.street===e.deliveryAddress.street?Object(ue.jsx)("small",{children:Object(ue.jsxs)("i",{children:[Object(ue.jsxs)("span",{className:"text-info mr-1",children:["Delivery ","&"," Billing Address :"]}),e.deliveryAddress.street," -"," ",e.deliveryAddress.postalCode," ,"," ",e.deliveryAddress.city," /"," ",e.deliveryAddress.country]})}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("small",{children:Object(ue.jsxs)("i",{children:[Object(ue.jsx)("span",{className:"text-info mr-1",children:"Delivery Address :"}),e.deliveryAddress.street," -"," ",e.deliveryAddress.postalCode," ,"," ",e.deliveryAddress.city," /"," ",e.deliveryAddress.country]})}),Object(ue.jsx)("small",{children:Object(ue.jsxs)("i",{children:[Object(ue.jsx)("span",{className:"text-info mr-1",children:"Billing Address :"}),e.billingAddress.street," -"," ",e.billingAddress.postalCode," ,"," ",e.billingAddress.city," /"," ",e.billingAddress.country]})})]})})]},e._id)}))})]})},Ve=function(e){var t=e.address,r=e.num,a=e.scr;return Object(ue.jsx)(xe.a,{md:2!==r?a?" ":6:3,className:2!==r?"text-center":"",children:Object(ue.jsxs)(fe.a,{children:[Object(ue.jsx)(fe.a.Header,{children:Object(ue.jsx)("b",{children:t.title})}),Object(ue.jsx)(fe.a.Body,{style:2===r&&a?{fontSize:"small"}:{},children:Object(ue.jsxs)("i",{children:[t.firstName," ",t.lastName,Object(ue.jsx)("br",{}),t.street.length>(a?20:30)?t.street.slice(0,a?15:29)+"...":t.street,Object(ue.jsx)("br",{}),t.postalCode," , ",t.city," / ",t.country]})}),Object(ue.jsxs)(fe.a.Footer,{style:a?{padding:"0.75rem 0.75rem"}:{},children:[(t.defaultDelivery||t.defaultBilling)&&r>1&&Object(ue.jsxs)("small",{className:"text-muted",children:[Object(ue.jsx)("i",{className:"fas fa-check-circle mr-1 text-success"}),"".concat(a?"":"Default"," ").concat(t.defaultDelivery?"Delivery":"Billing"," Address")]}),1===r&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("small",{className:"text-muted mr-5 ",children:[Object(ue.jsx)("i",{className:"fas fa-check-circle mr-1 text-success"}),"".concat(a?"":"Default"," Billing Address")]}),Object(ue.jsxs)("small",{className:"text-muted ",children:[Object(ue.jsx)("i",{className:"fas fa-check-circle mr-1 text-success"}),"".concat(a?"":"Default"," Delivery Address")]})]})]})]})})},We=function(e){var t=e.addresses,r=e.shipping,a=Object(i.useState)(null),c=Object(Ee.a)(a,2),n=c[0],s=c[1],l=Object(i.useState)(!1),j=Object(Ee.a)(l,2),o=j[0],u=j[1],b=Object(i.useState)(!1),O=Object(Ee.a)(b,2),h=O[0],x=O[1],p=[];t&&(p=t.filter((function(e){return e.defaultDelivery||e.defaultBilling})));var m=Object(d.c)((function(e){return e.userList})),f=m.loading,g=m.status,v=m.error,y=Object(d.b)();Object(i.useEffect)((function(){N()}));var N=function(){"success"===g?(y(Y()),u(!0),s("Successfully Updated!"),setTimeout((function(){u(!1),s(null)}),2e3)):v&&(y(U()),x(!0),s(v),setTimeout((function(){x(!1),s(null)}),2e3))};return Object(ue.jsxs)(ue.Fragment,{children:[(o||h)&&Object(ue.jsx)(me.a,{variant:h?"danger":"success",transition:!0,children:n}),Object(ue.jsx)(Ge.a,{className:"mb-3",children:Object(ue.jsxs)(he.a,{className:"d-flex justify-content-between",children:[Object(ue.jsx)(xe.a,{className:"my-auto text-center",children:Object(ue.jsx)("i",{className:"fas fa-truck fa-9x"})}),f?Object(ue.jsx)(xe.a,{md:6,children:Object(ue.jsx)(Ce,{})}):Object(ue.jsx)(ue.Fragment,{children:t&&p.length>0?p.map((function(e,t){return Object(ue.jsx)(Ve,{address:e,num:p.length,scr:r},t)})):Object(ue.jsxs)(xe.a,{md:6,className:"my-auto text-center rounded border border-danger",children:[Object(ue.jsx)("br",{}),Object(ue.jsxs)("i",{children:[Object(ue.jsx)("p",{children:"You don\u2019t have any saved or selected addresses yet."}),Object(ue.jsx)("p",{children:"Save an address now to make checkout even faster."})," "]})]})}),Object(ue.jsxs)(xe.a,{className:"my-auto text-right",children:[Object(ue.jsxs)(qe.a.Toggle,{as:Se.a,variant:"light",eventKey:"0",children:[Object(ue.jsx)("i",{className:"fas fa-globe-americas mr-2"}),"Add Address"]}),Object(ue.jsxs)(qe.a.Toggle,{as:Se.a,variant:"light",eventKey:"1",className:"mt-3",children:[Object(ue.jsx)("i",{className:"fas fa-check mr-2"}),"Change Address"]})]})]})})]})},Ue=function(e){var t=e.addresses,r=e.shipping,a=Object(d.b)(),c=function(e,t,r,c){a(z({id:e,checked:r,opt:c,opr:t}))};return Object(ue.jsx)(ue.Fragment,{children:t.map((function(e){return Object(ue.jsx)(Ge.a,{children:Object(ue.jsxs)(he.a,{className:"d-flex justify-content-between row",children:[Object(ue.jsxs)(xe.a,{className:"text-center my-auto",children:[Object(ue.jsx)("span",{label:"Default Delivery Address",onClick:function(e){return console.log(e.target.id)},children:Object(ue.jsx)("i",{className:"fas fa-map-marker-alt fa-3x ".concat(e.defaultDelivery?"text-success":"")})}),Object(ue.jsx)("i",{className:"fas fa-scroll fa-3x ml-4 ".concat(e.defaultBilling?"text-success":"")})]}),Object(ue.jsx)(xe.a,{className:"text-center my-auto",children:Object(ue.jsxs)(fe.a,{children:[Object(ue.jsx)(fe.a.Header,{children:Object(ue.jsxs)("b",{children:[" ",e.title]})}),Object(ue.jsx)(fe.a.Body,{children:Object(ue.jsxs)("i",{children:[e.firstName," ",e.lastName,Object(ue.jsx)("br",{}),r&&e.street.length>20?e.street.slice(0,15)+"...":e.street,Object(ue.jsx)("br",{}),e.postalCode," , ",e.city," / ",e.country]})})]})}),Object(ue.jsxs)(xe.a,{className:"text-center my-auto",children:[!e.defaultDelivery&&Object(ue.jsx)(Se.a,{variant:"outline-info",className:"btn btn-block my-2",id:e._id,onClick:function(e){return c(e.target.id,"ADRC",!0,"defaultDelivery")},children:"Set as Delivery Address"}),!e.defaultBilling&&Object(ue.jsx)(Se.a,{variant:"outline-warning",className:"btn btn-block",id:e._id,onClick:function(e){return c(e.target.id,"ADRC",!0,"defaultBilling")},children:"Set as Billing Address"}),Object(ue.jsx)(Se.a,{variant:"outline-danger",className:"btn btn-block",id:e._id,onClick:function(e){return c(e.target.id,"DEL")},children:"Delete Address"})]})]},e._id)},e._id)}))})},Ye=function(){var e=Object(i.useState)(""),t=Object(Ee.a)(e,2),r=t[0],a=t[1],c=Object(i.useState)(""),n=Object(Ee.a)(c,2),s=n[0],l=n[1],j=Object(i.useState)(""),o=Object(Ee.a)(j,2),u=o[0],b=o[1],O=Object(i.useState)(""),h=Object(Ee.a)(O,2),x=h[0],p=h[1],m=Object(i.useState)(""),f=Object(Ee.a)(m,2),g=f[0],v=f[1],y=Object(i.useState)(""),N=Object(Ee.a)(y,2),C=N[0],L=N[1],k=Object(i.useState)(""),w=Object(Ee.a)(k,2),S=w[0],D=w[1],A=Object(d.c)((function(e){return e.userList})).loading,I=Object(d.b)();return Object(ue.jsx)(Fe.a,{onSubmit:function(e){e.preventDefault(),I(z({opr:"ADR",title:r,firstName:s,lastName:u,street:x,city:g,postalCode:C,country:S}))},children:Object(ue.jsxs)(Ge.a,{children:[Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"title",children:[Object(ue.jsx)(Fe.a.Label,{children:"Add a Address Title"}),Object(ue.jsx)(Fe.a.Control,{type:"title",placeholder:"Address Title",maxLength:"10",onChange:function(e){return a(e.target.value)},required:!0})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"firstName",children:[Object(ue.jsx)(Fe.a.Label,{children:"First Name"}),Object(ue.jsx)(Fe.a.Control,{type:"name",placeholder:"First Name",required:!0,onChange:function(e){return l(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"lastName",children:[Object(ue.jsx)(Fe.a.Label,{children:"Last Name"}),Object(ue.jsx)(Fe.a.Control,{type:"lastName",placeholder:"Last Name",value:u,onChange:function(e){return b(e.target.value)}})]})})]}),Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"street",children:[Object(ue.jsx)(Fe.a.Label,{children:"Street"}),Object(ue.jsx)(Fe.a.Control,{type:"street",placeholder:"1234 Main St",required:!0,onChange:function(e){return p(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"city",children:[Object(ue.jsx)(Fe.a.Label,{children:"City"}),Object(ue.jsx)(Fe.a.Control,{type:"city",required:!0,placeholder:"City",onChange:function(e){return v(e.target.value)}})]})})]}),Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"zip",children:[Object(ue.jsx)(Fe.a.Label,{children:"Zip Code"}),Object(ue.jsx)(Fe.a.Control,{type:"zip",required:!0,placeholder:"Zip Code",onChange:function(e){return L(e.target.value)}})]})}),Object(ue.jsx)(xe.a,{children:Object(ue.jsxs)(Fe.a.Group,{controlId:"country",children:[Object(ue.jsx)(Fe.a.Label,{children:"Country"}),Object(ue.jsx)(Fe.a.Control,{type:"country",required:!0,placeholder:"Country",onChange:function(e){return D(e.target.value)}})]})})]}),Object(ue.jsx)(xe.a,{className:"text-right",children:Object(ue.jsx)(Se.a,{type:"submit",variant:"outline-success",children:A?Object(ue.jsx)(Ne.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Add Address"})})]})})},He=function(){var e=Object(d.c)((function(e){return e.userList})),t=e.userAddresses.addresses,r=e.error,a=Object(d.b)();return Object(i.useEffect)((function(){a(_())}),[a]),Object(ue.jsx)(ie.a,{children:Object(ue.jsx)(he.a,{children:Object(ue.jsxs)(xe.a,{children:[Object(ue.jsx)("h2",{children:"Your Addresses"}),Object(ue.jsx)("p",{children:Object(ue.jsx)("i",{children:"View and update your Addresses right here. Manage your delivery and billing addresses."})}),Object(ue.jsx)(ue.Fragment,{children:r?Object(ue.jsx)(me.a,{children:r}):Object(ue.jsxs)(qe.a,{children:[Object(ue.jsx)(We,{addresses:t}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"0",className:"mb-3",children:Object(ue.jsx)(Ye,{})}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"1",className:"mb-3",children:Object(ue.jsx)(Ue,{addresses:t||[]})})]})})]})})})},$e=function(){var e=Object(d.c)((function(e){return e.cartList})),t=e.cart,r=e.totalPrice,a=Object(d.c)((function(e){return e.orderList})),c=a.loading,n=a.status,s=a.error,l=Object(d.c)((function(e){return e.userList})).userAddresses.addresses,j=Object(d.b)();return Object(i.useEffect)((function(){j("success"===n?F():_())}),[j,n]),Object(ue.jsx)(ue.Fragment,{children:c?Object(ue.jsx)(Ce,{}):"success"===n?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)(xe.a,{className:"d-flex justify-content-between",children:[Object(ue.jsx)(Oe.Link,{className:"btn btn-light my-3",to:"/",children:"Go Back"}),Object(ue.jsx)(Oe.Link,{className:"btn btn-light my-3",to:"/profile/orders",children:"Orders"})]}),Object(ue.jsx)(xe.a,{md:12,className:"d-flex justify-content-center",style:{height:"40vh"},children:Object(ue.jsx)("i",{className:"fas fa-check-square fa-9x text-success my-auto"})}),Object(ue.jsxs)(me.a,{variant:"info",className:"my-auto text-center",children:["Your order created successfully."," ",Object(ue.jsx)(Oe.Link,{to:"profile/orders",children:"Check Your Orders "})]})]}):s?Object(ue.jsx)(me.a,{variant:"danger",children:s}):Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(he.a,{children:Object(ue.jsxs)(xe.a,{md:12,children:[Object(ue.jsx)("h2",{children:"Order Details"}),Object(ue.jsx)("p",{children:Object(ue.jsx)("i",{children:"Select your address or add a new one."})})]})}),Object(ue.jsxs)(he.a,{children:[Object(ue.jsx)(xe.a,{md:8,children:Object(ue.jsx)(ue.Fragment,{children:s?Object(ue.jsx)(me.a,{children:s}):Object(ue.jsxs)(qe.a,{children:[Object(ue.jsx)(We,{addresses:l,shipping:!0}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"0",className:"mb-3",children:Object(ue.jsx)(Ye,{})}),Object(ue.jsx)(qe.a.Collapse,{eventKey:"1",className:"mb-3",children:Object(ue.jsx)(Ue,{addresses:l||[],shipping:!0})})]})})}),Object(ue.jsxs)(xe.a,{md:4,className:"my-auto",children:[Object(ue.jsx)(Ie,{cart:t,totalPrice:r,shipping:!0}),Object(ue.jsx)(we.a.Item,{children:Object(ue.jsx)(Se.a,{type:"button",className:"btn-block",variant:"warning",disabled:0===t.length||0===l.length,onClick:function(){return j(M())},children:"PLACE ORDER"})})]})]})]})})};var Me=function(){var e;return e=Object(d.c)((function(e){return e.userList.userData})).token?Object(ue.jsxs)(oe.g,{children:[Object(ue.jsx)(oe.d,{path:"/",component:Le,exact:!0}),Object(ue.jsx)(oe.d,{path:"/product/:id",component:De,exact:!0}),Object(ue.jsx)(oe.d,{path:"/cart",component:Pe}),Object(ue.jsx)(oe.d,{path:"/login",component:Be,exact:!0}),Object(ue.jsx)(oe.d,{path:"/register",component:Te,exact:!0}),Object(ue.jsx)(oe.d,{path:"/profile/info",component:ze,exact:!0}),Object(ue.jsx)(oe.d,{path:"/profile/addresses",component:He,exact:!0}),Object(ue.jsx)(oe.d,{path:"/profile/orders",component:Ke,exact:!0}),Object(ue.jsx)(oe.d,{path:"/placeorder",component:$e,exact:!0}),Object(ue.jsx)(oe.c,{to:"/"})]}):Object(ue.jsxs)(oe.g,{children:[Object(ue.jsx)(oe.d,{path:"/",component:Le,exact:!0}),Object(ue.jsx)(oe.d,{path:"/product/:id",component:De,exact:!0}),Object(ue.jsx)(oe.d,{path:"/cart",component:Pe}),Object(ue.jsx)(oe.d,{path:"/login",component:Be,exact:!0}),Object(ue.jsx)(oe.d,{path:"/register",component:Te,exact:!0}),Object(ue.jsx)(oe.c,{to:"/login"})]}),Object(ue.jsxs)(Oe.BrowserRouter,{children:[Object(ue.jsx)(be,{}),Object(ue.jsx)("main",{className:"py-3",children:Object(ue.jsx)(ie.a,{children:e})}),Object(ue.jsx)(pe,{})]})},Je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,135)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),a(e),c(e),n(e),s(e)}))},Ze=Object(h.b)(ce);j.a.render(Object(ue.jsx)(d.a,{store:ce,children:Object(ue.jsx)(ne.a,{persistor:Ze,children:Object(ue.jsx)(Me,{})})}),document.getElementById("root")),Je()}},[[118,1,2]]]);
//# sourceMappingURL=main.5dbb8373.chunk.js.map